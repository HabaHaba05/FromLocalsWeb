@model IEnumerable<FromLocalsToLocals.Models.Vendor>

@{
    ViewData["Title"] = "Map Page";
    ViewBag.vendorTypes = Enum.GetNames(typeof(FromLocalsToLocals.Utilities.VendorType));
}

<script src="~/lib/jquery/dist/jquery.js"></script>

@*!--LeafLet CSS and Script-->*@
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
      integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
      crossorigin="" />
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin=""></script>

@*<!--LeafLet.MarkerCluster CSS and Script-->*@
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" />
<script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>

    <div class="row" style="height: 400px;">
        <div class="col-sm-9">
            <div id="mapid" style="height: 400px;position: relative; outline: none;"></div>
        </div>
        <div class="col-sm-3">
            <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#vendorTypeCollapse" aria-expanded="false" aria-controls="vendorTypeCollapse">Vendor Types</button>
            <div class="collapse" id="vendorTypeCollapse">
                @foreach (var x in ViewBag.vendorTypes)
                {
                    <input type="checkbox" id=@x value=@x checked onchange="vendorTypeOnChange(this)"/>
                    <label for="vehicle1">@x</label><br>
                }
            </div>
        </div>
    </div>



<script type="text/javascript">
    var allVendors = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(Model));
    var vendorTypes = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(ViewBag.vendorTypes));
</script>
<script src="~/js/map.js"></script>


